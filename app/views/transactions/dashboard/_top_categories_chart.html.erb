<div class="bg-white rounded-2xl shadow p-6">
  <h2 class="text-sm font-semibold text-gray-600 mb-4">
    Top categorías por gasto (<%= @period.titleize %>)
  </h2>

  <% if @top_expense_tags_by_currency.any? %>
    <% @top_expense_tags_by_currency.each do |currency, tag_data| %>
      <div class="mb-6">
        <h3 class="text-sm text-gray-500 mb-2 font-medium">
          En <%= currency %>
        </h3>
        <%= bar_chart tag_data,
              height: "250px",
              library: {
                indexAxis: 'y',
                scales: {
                  x: { beginAtZero: true },
                  y: { ticks: { autoSkip: false } }
                },
                plugins: {
                  legend: { display: false }
                }
              } %>
      </div>
    <% end %>
  <% else %>
    <p class="text-sm text-gray-500">No hay gastos registrados en este período.</p>
  <% end %>
</div>
